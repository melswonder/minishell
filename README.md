# Minishell

## プロジェクト概要

Minishellは、基本的なBashシェル機能を実装したシェルプログラムです。コマンド処理、環境変数操作、リダイレクト、パイプラインなどの基本的なシェル機能を提供します。このプロジェクトはC言語で記述されており、本格的なシェル環境の動作原理を学ぶことを目的としています。

## 機能

- コマンドの実行（外部コマンドと組み込みコマンド）
- パイプライン（`|`）による複数コマンドの連結
- 入出力のリダイレクション（`<`, `>`, `>>`, `<<`）
- 環境変数の展開
- シグナルハンドリング
- クォートと特殊文字の処理
- コマンド履歴の保存

## 組み込みコマンド

- `echo` - テキストを表示（`-n`オプション対応）
- `cd` - カレントディレクトリの変更
- `pwd` - 現在のディレクトリパスを表示
- `export` - 環境変数の設定
- `unset` - 環境変数の削除
- `env` - 環境変数の一覧表示
- `exit` - シェルの終了

## プロジェクト構造

```
minishell/
├── inc/ - ヘッダーファイル
└── src/
    ├── buildin/    - 組み込みコマンド実装
    ├── debug/      - デバッグ用関数
    ├── env/        - 環境変数管理
    ├── execute/    - コマンド実行処理
    ├── expand/     - 変数展開処理
    ├── free/       - メモリ解放関数
    ├── init/       - 初期化関数
    ├── minishell/  - メインプログラム
    ├── parser/     - コマンド構文解析
    ├── path/       - パス解決
    ├── redirect/   - リダイレクト処理
    ├── signal/     - シグナルハンドリング
    └── tokenizer/  - トークン分割処理
```

## 実行方法

```bash
# コンパイル
make

# 実行
./minishell
```

## 実装の詳細

### パーサー
コマンドライン入力を解析してトークンに分割し、コマンド、引数、リダイレクト、パイプなどの構造を認識します。

### リダイレクト
- 入力リダイレクト（`<`）- ファイルからの入力
- 出力リダイレクト（`>`）- ファイルへの出力（上書き）
- 追記出力（`>>`）- ファイルへの出力（追記）
- ヒアドキュメント（`<<`）- 対話的な複数行入力

### 環境変数
- 環境変数の展開（`$VAR`形式）
- 特殊変数（`$?` - 直前のコマンドの終了ステータス）のサポート

### シグナルハンドリング
- `Ctrl+C` (SIGINT) - 現在のプロセスを中断
- `Ctrl+\` (SIGQUIT) - 無視する設定

## 開発者

- hirwatan (@hirwatan) - 環境変数、組み込みコマンド、実行処理
- kiwasa (@kiwasa) - パーサー、トークナイザー、構文解析

## 注意事項

- このプロジェクトは教育目的で作成されたBash互換シェルであり、実際のBashの全ての機能をサポートしているわけではありません。
- GNU Readlineライブラリを使用してコマンド入力とヒストリ機能を実装しています。

---

© 2025 hirwatan, kiwasa
